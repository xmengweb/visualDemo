import{m as G}from"./d3-collection.20b6e266.js";import{b as L,t as x,a as nn,c as P,d as sn,f as gn,g as hn}from"./d3-array.7ec74193.js";import{f as mn,p as pn,a as Mn,b as kn,c as vn,d as tn}from"./d3-format.77ad6107.js";import{t as wn}from"./d3-time-format.dedd3708.js";import{u as yn,a as dn,t as Nn,b as bn,c as qn,s as Dn,d as Fn,e as Sn}from"./d3-time.7b613ed0.js";import{b as En,i as In,c as $n}from"./d3-interpolate.665e47cb.js";function q(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}function rn(n,r){switch(arguments.length){case 0:break;case 1:this.interpolator(n);break;default:this.interpolator(r).domain(n);break}return this}var en=Array.prototype,H=en.map,F=en.slice,J={name:"implicit"};function An(){var n=G(),r=[],e=[],t=J;function u(a){var i=a+"",c=n.get(i);if(!c){if(t!==J)return t;n.set(i,c=r.push(a))}return e[(c-1)%e.length]}return u.domain=function(a){if(!arguments.length)return r.slice();r=[],n=G();for(var i=-1,c=a.length,o,l;++i<c;)n.has(l=(o=a[i])+"")||n.set(l,r.push(o));return u},u.range=function(a){return arguments.length?(e=F.call(a),u):e.slice()},u.unknown=function(a){return arguments.length?(t=a,u):t},u.copy=function(){return An(r,e).unknown(t)},q.apply(u,arguments),u}function Rn(n){return function(){return n}}function W(n){return+n}var K=[0,1];function p(n){return n}function B(n,r){return(r-=n=+n)?function(e){return(e-n)/r}:Rn(isNaN(r)?NaN:.5)}function Q(n){var r=n[0],e=n[n.length-1],t;return r>e&&(t=r,r=e,e=t),function(u){return Math.max(r,Math.min(e,u))}}function Yn(n,r,e){var t=n[0],u=n[1],a=r[0],i=r[1];return u<t?(t=B(u,t),a=e(i,a)):(t=B(t,u),a=e(a,i)),function(c){return a(t(c))}}function zn(n,r,e){var t=Math.min(n.length,r.length)-1,u=new Array(t),a=new Array(t),i=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++i<t;)u[i]=B(n[i],n[i+1]),a[i]=e(r[i],r[i+1]);return function(c){var o=L(n,c,1,t)-1;return a[o](u[o](c))}}function O(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function V(){var n=K,r=K,e=In,t,u,a,i=p,c,o,l;function s(){return c=Math.min(n.length,r.length)>2?zn:Yn,o=l=null,m}function m(f){return isNaN(f=+f)?a:(o||(o=c(n.map(t),r,e)))(t(i(f)))}return m.invert=function(f){return i(u((l||(l=c(r,n.map(t),En)))(f)))},m.domain=function(f){return arguments.length?(n=H.call(f,W),i===p||(i=Q(n)),s()):n.slice()},m.range=function(f){return arguments.length?(r=F.call(f),s()):r.slice()},m.rangeRound=function(f){return r=F.call(f),e=$n,s()},m.clamp=function(f){return arguments.length?(i=f?Q(n):p,m):i!==p},m.interpolate=function(f){return arguments.length?(e=f,s()):e},m.unknown=function(f){return arguments.length?(a=f,m):a},function(f,h){return t=f,u=h,s()}}function un(n,r){return V()(n,r)}function Hn(n,r,e,t){var u=x(n,r,e),a;switch(t=mn(t==null?",f":t),t.type){case"s":{var i=Math.max(Math.abs(n),Math.abs(r));return t.precision==null&&!isNaN(a=kn(u,i))&&(t.precision=a),vn(t,i)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(a=Mn(u,Math.max(Math.abs(n),Math.abs(r))))&&(t.precision=a-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(a=pn(u))&&(t.precision=a-(t.type==="%")*2);break}}return tn(t)}function E(n){var r=n.domain;return n.ticks=function(e){var t=r();return nn(t[0],t[t.length-1],e==null?10:e)},n.tickFormat=function(e,t){var u=r();return Hn(u[0],u[u.length-1],e==null?10:e,t)},n.nice=function(e){e==null&&(e=10);var t=r(),u=0,a=t.length-1,i=t[u],c=t[a],o;return c<i&&(o=i,i=c,c=o,o=u,u=a,a=o),o=P(i,c,e),o>0?(i=Math.floor(i/o)*o,c=Math.ceil(c/o)*o,o=P(i,c,e)):o<0&&(i=Math.ceil(i*o)/o,c=Math.floor(c*o)/o,o=P(i,c,e)),o>0?(t[u]=Math.floor(i/o)*o,t[a]=Math.ceil(c/o)*o,r(t)):o<0&&(t[u]=Math.ceil(i*o)/o,t[a]=Math.floor(c*o)/o,r(t)),n},n}function Ln(){var n=un(p,p);return n.copy=function(){return O(n,Ln())},q.apply(n,arguments),E(n)}function On(n){var r;function e(t){return isNaN(t=+t)?r:t}return e.invert=e,e.domain=e.range=function(t){return arguments.length?(n=H.call(t,W),e):n.slice()},e.unknown=function(t){return arguments.length?(r=t,e):r},e.copy=function(){return On(n).unknown(r)},n=arguments.length?H.call(n,W):[0,1],E(e)}function an(n,r){n=n.slice();var e=0,t=n.length-1,u=n[e],a=n[t],i;return a<u&&(i=e,e=t,t=i,i=u,u=a,a=i),n[e]=r.floor(u),n[t]=r.ceil(a),n}function T(n){return Math.log(n)}function U(n){return Math.exp(n)}function Pn(n){return-Math.log(-n)}function jn(n){return-Math.exp(-n)}function xn(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Wn(n){return n===10?xn:n===Math.E?Math.exp:function(r){return Math.pow(n,r)}}function Bn(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),function(r){return Math.log(r)/n})}function X(n){return function(r){return-n(-r)}}function Vn(n){var r=n(T,U),e=r.domain,t=10,u,a;function i(){return u=Bn(t),a=Wn(t),e()[0]<0?(u=X(u),a=X(a),n(Pn,jn)):n(T,U),r}return r.base=function(c){return arguments.length?(t=+c,i()):t},r.domain=function(c){return arguments.length?(e(c),i()):e()},r.ticks=function(c){var o=e(),l=o[0],s=o[o.length-1],m;(m=s<l)&&(f=l,l=s,s=f);var f=u(l),h=u(s),S,w,y,z=c==null?10:+c,D=[];if(!(t%1)&&h-f<z){if(f=Math.round(f)-1,h=Math.round(h)+1,l>0){for(;f<h;++f)for(w=1,S=a(f);w<t;++w)if(y=S*w,!(y<l)){if(y>s)break;D.push(y)}}else for(;f<h;++f)for(w=t-1,S=a(f);w>=1;--w)if(y=S*w,!(y<l)){if(y>s)break;D.push(y)}}else D=nn(f,h,Math.min(h-f,z)).map(a);return m?D.reverse():D},r.tickFormat=function(c,o){if(o==null&&(o=t===10?".0e":","),typeof o!="function"&&(o=tn(o)),c===1/0)return o;c==null&&(c=10);var l=Math.max(1,t*c/r.ticks().length);return function(s){var m=s/a(Math.round(u(s)));return m*t<t-.5&&(m*=t),m<=l?o(s):""}},r.nice=function(){return e(an(e(),{floor:function(c){return a(Math.floor(u(c)))},ceil:function(c){return a(Math.ceil(u(c)))}}))},r}function Cn(){var n=Vn(V()).domain([1,10]);return n.copy=function(){return O(n,Cn()).base(n.base())},q.apply(n,arguments),n}function Z(n){return function(r){return r<0?-Math.pow(-r,n):Math.pow(r,n)}}function Gn(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Jn(n){return n<0?-n*n:n*n}function Kn(n){var r=n(p,p),e=1;function t(){return e===1?n(p,p):e===.5?n(Gn,Jn):n(Z(e),Z(1/e))}return r.exponent=function(u){return arguments.length?(e=+u,t()):e},E(r)}function Qn(){var n=Kn(V());return n.copy=function(){return O(n,Qn()).exponent(n.exponent())},q.apply(n,arguments),n}function Tn(){var n=[],r=[],e=[],t;function u(){var i=0,c=Math.max(1,r.length);for(e=new Array(c-1);++i<c;)e[i-1]=gn(n,i/c);return a}function a(i){return isNaN(i=+i)?t:r[L(e,i)]}return a.invertExtent=function(i){var c=r.indexOf(i);return c<0?[NaN,NaN]:[c>0?e[c-1]:n[0],c<e.length?e[c]:n[n.length-1]]},a.domain=function(i){if(!arguments.length)return n.slice();n=[];for(var c=0,o=i.length,l;c<o;++c)l=i[c],l!=null&&!isNaN(l=+l)&&n.push(l);return n.sort(sn),u()},a.range=function(i){return arguments.length?(r=F.call(i),u()):r.slice()},a.unknown=function(i){return arguments.length?(t=i,a):t},a.quantiles=function(){return e.slice()},a.copy=function(){return Tn().domain(n).range(r).unknown(t)},q.apply(a,arguments)}function Un(){var n=0,r=1,e=1,t=[.5],u=[0,1],a;function i(o){return o<=o?u[L(t,o,0,e)]:a}function c(){var o=-1;for(t=new Array(e);++o<e;)t[o]=((o+1)*r-(o-e)*n)/(e+1);return i}return i.domain=function(o){return arguments.length?(n=+o[0],r=+o[1],c()):[n,r]},i.range=function(o){return arguments.length?(e=(u=F.call(o)).length-1,c()):u.slice()},i.invertExtent=function(o){var l=u.indexOf(o);return l<0?[NaN,NaN]:l<1?[n,t[0]]:l>=e?[t[e-1],r]:[t[l-1],t[l]]},i.unknown=function(o){return arguments.length&&(a=o),i},i.thresholds=function(){return t.slice()},i.copy=function(){return Un().domain([n,r]).range(u).unknown(a)},q.apply(E(i),arguments)}function Xn(){var n=[.5],r=[0,1],e,t=1;function u(a){return a<=a?r[L(n,a,0,t)]:e}return u.domain=function(a){return arguments.length?(n=F.call(a),t=Math.min(n.length,r.length-1),u):n.slice()},u.range=function(a){return arguments.length?(r=F.call(a),t=Math.min(n.length,r.length-1),u):r.slice()},u.invertExtent=function(a){var i=r.indexOf(a);return[n[i-1],n[i]]},u.unknown=function(a){return arguments.length?(e=a,u):e},u.copy=function(){return Xn().domain(n).range(r).unknown(e)},q.apply(u,arguments)}var $=1e3,A=$*60,R=A*60,Y=R*24,Zn=Y*7,_=Y*30,j=Y*365;function _n(n){return new Date(n)}function nt(n){return n instanceof Date?+n:+new Date(+n)}function on(n,r,e,t,u,a,i,c,o){var l=un(p,p),s=l.invert,m=l.domain,f=o(".%L"),h=o(":%S"),S=o("%I:%M"),w=o("%I %p"),y=o("%a %d"),z=o("%b %d"),D=o("%B"),ln=o("%Y"),I=[[i,1,$],[i,5,5*$],[i,15,15*$],[i,30,30*$],[a,1,A],[a,5,5*A],[a,15,15*A],[a,30,30*A],[u,1,R],[u,3,3*R],[u,6,6*R],[u,12,12*R],[t,1,Y],[t,2,2*Y],[e,1,Zn],[r,1,_],[r,3,3*_],[n,1,j]];function fn(g){return(i(g)<g?f:a(g)<g?h:u(g)<g?S:t(g)<g?w:r(g)<g?e(g)<g?y:z:n(g)<g?D:ln)(g)}function C(g,d,M,v){if(g==null&&(g=10),typeof g=="number"){var b=Math.abs(M-d)/g,k=hn(function(N){return N[2]}).right(I,b);k===I.length?(v=x(d/j,M/j,g),g=n):k?(k=I[b/I[k-1][2]<I[k][2]/b?k-1:k],v=k[1],g=k[0]):(v=Math.max(x(d,M,g),1),g=c)}return v==null?g:g.every(v)}return l.invert=function(g){return new Date(s(g))},l.domain=function(g){return arguments.length?m(H.call(g,nt)):m().map(_n)},l.ticks=function(g,d){var M=m(),v=M[0],b=M[M.length-1],k=b<v,N;return k&&(N=v,v=b,b=N),N=C(g,v,b,d),N=N?N.range(v,b+1):[],k?N.reverse():N},l.tickFormat=function(g,d){return d==null?fn:o(d)},l.nice=function(g,d){var M=m();return(g=C(g,M[0],M[M.length-1],d))?m(an(M,g)):l},l.copy=function(){return O(l,on(n,r,e,t,u,a,i,c,o))},l}function st(){return q.apply(on(Sn,Fn,Dn,qn,bn,Nn,dn,yn,wn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tt(){var n=0,r=1,e,t,u,a,i=p,c=!1,o;function l(s){return isNaN(s=+s)?o:i(u===0?.5:(s=(a(s)-e)*u,c?Math.max(0,Math.min(1,s)):s))}return l.domain=function(s){return arguments.length?(e=a(n=+s[0]),t=a(r=+s[1]),u=e===t?0:1/(t-e),l):[n,r]},l.clamp=function(s){return arguments.length?(c=!!s,l):c},l.interpolator=function(s){return arguments.length?(i=s,l):i},l.unknown=function(s){return arguments.length?(o=s,l):o},function(s){return a=s,e=s(n),t=s(r),u=e===t?0:1/(t-e),l}}function cn(n,r){return r.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function rt(){var n=E(tt()(p));return n.copy=function(){return cn(n,rt())},rn.apply(n,arguments)}function et(){var n=0,r=.5,e=1,t,u,a,i,c,o=p,l,s=!1,m;function f(h){return isNaN(h=+h)?m:(h=.5+((h=+l(h))-u)*(h<u?i:c),o(s?Math.max(0,Math.min(1,h)):h))}return f.domain=function(h){return arguments.length?(t=l(n=+h[0]),u=l(r=+h[1]),a=l(e=+h[2]),i=t===u?0:.5/(u-t),c=u===a?0:.5/(a-u),f):[n,r,e]},f.clamp=function(h){return arguments.length?(s=!!h,f):s},f.interpolator=function(h){return arguments.length?(o=h,f):o},f.unknown=function(h){return arguments.length?(m=h,f):m},function(h){return l=h,t=h(n),u=h(r),a=h(e),i=t===u?0:.5/(u-t),c=u===a?0:.5/(a-u),f}}function ut(){var n=E(et()(p));return n.copy=function(){return cn(n,ut())},rn.apply(n,arguments)}export{Cn as a,Un as b,Xn as c,ut as d,On as i,Ln as l,An as o,Qn as p,Tn as q,rt as s,st as t};
