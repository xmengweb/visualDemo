var F={exports:{}},I={exports:{}};(function(u){var s=u.exports;u.exports.isNumber=function(n){return typeof n=="number"},u.exports.findMin=function(n){if(n.length===0)return 1/0;for(var i=n[0],a=1;a<n.length;a++)i=Math.min(i,n[a]);return i},u.exports.findMax=function(n){if(n.length===0)return-1/0;for(var i=n[0],a=1;a<n.length;a++)i=Math.max(i,n[a]);return i},u.exports.findMinMulti=function(n){for(var i=s.findMin(n[0]),a=1;a<n.length;a++)i=Math.min(i,s.findMin(n[a]));return i},u.exports.findMaxMulti=function(n){for(var i=s.findMax(n[0]),a=1;a<n.length;a++)i=Math.max(i,s.findMax(n[a]));return i},u.exports.inside=function(n,i,a){return n<=a&&a<=i}})(I);(function(u){var s=50,n=2,i=Math.log(2),a=u.exports,c=I.exports;function P(e){return 1-Math.abs(e)}u.exports.getUnifiedMinMax=function(e,r){return a.getUnifiedMinMaxMulti([e],r)},u.exports.getUnifiedMinMaxMulti=function(e,r){r=r||{};var f=!1,t=!1,v=c.isNumber(r.width)?r.width:n,g=c.isNumber(r.size)?r.size:s,o=c.isNumber(r.min)?r.min:(f=!0,c.findMinMulti(e)),M=c.isNumber(r.max)?r.max:(t=!0,c.findMaxMulti(e)),d=M-o,x=d/(g-1);return f&&(o=o-2*v*x),t&&(M=M+2*v*x),{min:o,max:M}},u.exports.create=function(e,r){if(r=r||{},!e||e.length===0)return[];var f=c.isNumber(r.size)?r.size:s,t=c.isNumber(r.width)?r.width:n,v=a.getUnifiedMinMax(e,{size:f,width:t,min:r.min,max:r.max}),g=v.min,o=v.max,M=o-g,d=M/(f-1);if(M===0)return[{x:g,y:1}];for(var x=[],A=0;A<f;A++)x.push({x:g+A*d,y:0});var D=function(h){return Math.floor((h-g)/d)},m=B(P,t),w=m[t],y=m[t-1]-m[t-2],k=0;e.forEach(function(h){var l=D(h);if(!(l+t<0||l-t>=x.length)){var _=Math.max(l-t,0),L=l,z=Math.min(l+t,x.length-1),N=_-(l-t),C=l+t-z,V=m[-t-1+N]||0,W=m[-t-1+C]||0,p=w/(w-V-W);N>0&&(k+=p*(N-1)*y);var T=Math.max(0,l-t+1);c.inside(0,x.length-1,T)&&(x[T].y+=p*1*y),c.inside(0,x.length-1,L+1)&&(x[L+1].y-=p*2*y),c.inside(0,x.length-1,z+1)&&(x[z+1].y+=p*1*y)}});var b=k,U=0,E=0;return x.forEach(function(h){U+=h.y,b+=U,h.y=b,E+=b}),E>0&&x.forEach(function(h){h.y/=E}),x};function B(e,r){for(var f={},t=0,v=-r;v<=r;v++)t+=e(v/r),f[v]=t;return f}u.exports.getExpectedValueFromPdf=function(e){if(!(!e||e.length===0)){var r=0;return e.forEach(function(f){r+=f.x*f.y}),r}},u.exports.getXWithLeftTailArea=function(e,r){if(!(!e||e.length===0)){for(var f=0,t=0,v=0;v<e.length&&(t=v,f+=e[v].y,!(f>=r));v++);return e[t].x}},u.exports.getPerplexity=function(e){if(!(!e||e.length===0)){var r=0;return e.forEach(function(f){var t=Math.log(f.y);isFinite(t)&&(r+=f.y*t)}),r=-r/i,Math.pow(2,r)}}})(F);const G=F.exports;export{G as p};
